##作用域是什么
* 引入
	向变量中存在值, 并在之后访问或修改变量的值--->所有编程语言最基本的一个功能, 也称之为程序的状态
	2个问题:
		1.变量存储在哪?
		2.程序如何找到它们?
	作为语言的设计者需要设计一套规则来存储和查找变量---->作用域
* js的编译
	js程序在运行之前, js引擎会在几微秒(甚至更少)的时间内对代码进行编译处理
	包括词法/语法分析, 代码优化, 执行代码生成等工作
* 理解作用域
	理解: var a = 2;
	3个重要演员:
		引擎 : 负责整个js程序的编译和执行过程  --->大管家
		编译器 : 在执行前对js程序进行编译处理  --->助手A
		作用域 : 负责收集并维护所有的变量, 组成一套严格的查找规则(控制变量的访问权限) --->助手B
	整个过程:
		1.编译: 编译器会在当前作用域中声明一个变量(如果当前作用域中没有)
		2.运行: js引擎在作用域中查找当前变量, 如果找到就赋值为2
	变量查找:
		1.查找变量本身(它对应的内存) --->LHS查询
			赋值左边的变量
		2.查找变量并得到其值(它对应的内存中的数据) --->RHS查询
			赋值右边的变量, 调用函数, 实参变量
	引擎和作用域对话实例
		1.代码:
			function foo(a) {
				console.log(a); 
			}
			foo(2);
		2.对话过程
			引擎：我说作用域，我需要为foo 进行RHS 引用。你见过它吗？
			作用域：别说，我还真见过，编译器那小子刚刚声明了它。它是一个函数，给你。
			引擎：哥们太够意思了！好吧，我来执行一下foo。
			引擎：作用域，还有个事儿。我需要为a 进行LHS 引用，这个你见过吗？
			作用域：这个也见过，编译器最近把它声名为foo 的一个形式参数了，拿去吧。
			引擎：大恩不言谢，你总是这么棒。现在我要把2 赋值给a。
			引擎：哥们，不好意思又来打扰你。我要为console 进行RHS 引用，你见过它吗？
			作用域：咱俩谁跟谁啊，再说我就是干这个。这个我也有，console 是个内置对象。给你。
			引擎：么么哒。我得看看这里面是不是有log(..)。太好了，找到了，是一个函数。
			引擎：哥们，能帮我再找一下对a 的RHS 引用吗？虽然我记得它，但想再确认一次。
			作用域：放心吧，这个变量没有变动过，拿走，不谢。
			引擎：真棒。我来把a 的值，也就是2，传递进log(..)。
		3.练习
			代码:
				function foo(a) {
					var b = a;
					return a + b;
				}
				var c = foo(2);
			问题:
				找出其中的LHS查询(3处)
				找出其中的RHS查询(4处)
* 作用域, 作用域嵌套, 作用链
	作用域 : 根据名称查找变量的一套规则
	作用域分类:
		全局作用域: js默认创建的, 区域为整个script
		函数作用域: 定义一个新的函数,就会创建出一个新的作用域
		作用域嵌套: 当一个函数中又定义另一个函数时就发生了作用域的嵌套
		作用域链: 当查找某个变量时, 先在当前作用域查找--没有-->到外层(父)作用域查找-->直到找到或抵达全局作用域为止
				 查找的路径就是一条作用域链, 它的方向为从内(下)到外(上)

## 词法(静态作用域)作用域
* 作用域 : 一套规则, 用来管理引擎如何在当前作用域以及嵌套的父作用域中根据变量名进行查找
* 作用域分类
	* 词法(静态作用域)作用域(绝大部分语言)
	* 动态作用域(Perl,Bash少数语言)
* 词法作用域: 在编译期的词法分析阶段就确定下来的作用域, 运行期是不会再发生改变的
* 变量查找: 从当前作用域开始, 逐级向外(上)进行, 直到找到第一个匹配的标识符为止
* 无论函数在哪调用, 无论如何调用, 它的作用域由其声明定义的位置决定

## 函数作用域和块作用域
* 函数中定义的变量只在当前函数的作用域及其嵌套子作用域中引用
* 隐藏内部实现, 遵循'最小暴露'原则: 最小暴露必要的内容
	代码一(未隐藏):
		function doSomething(a) {
		    b = a + dosomethingElse(a*2);
		    console.log(b*3);
		}
		function dosomethingElse(a) {
		    return a -1;
		}
		var b;
		doSomething(2);
	代码二(隐藏):
		function doSomething(a) {
		    function dosomethingElse(a) {
		        return a -1;
		    }
		    var b = a + dosomethingElse(a*2);
		    console.log(b*3);
		}
		doSomething(2);
* 规避冲突: 避免同名标识符之间的冲突
	代码:
		function foo() {
		    function bar(a) {
		        i = 3;    //
		        console.log(a + i);
		    }
		    for(var i=0;i<3;i++) {
		        bar(i * 2);
		    }
		}
		foo();
	命名空间
		全局命名空间
			全局对象(window/global)
			定义的全局变量/全局函数都是全局对象(window/global)的属性
		自定义命名空间
			在全局对象上添加一个全局变量对象, 将所有的状态和功能添加到此对象上, 这个对象就是你定义的命名空间
			如jQuery的命名空间为: $/jQuery
* 函数作用域
	定义一个函数就自动拥有了一个新的作用域, 内部定义的变量在整个作用域范围内有效
	函数声明与函数表达式
		函数声明: 声明语句的最左边字符是function(不能有其它任何字符), 必须有函数名
		函数表达式: 其它方式都是函数表达式, 可以没有名称, 但必须立即使用
			赋值给一个变量
			自调用
			作为实参传递给一个函数调用
		立即执行函数表达式(函数自调用) : IIEF(immediately invoked Function Expression)
		(function(w){
			w.$ = function(){
				return {
					test : function(){
						console.log(this+' test()');
					};
				};
			};
		})(window);
		$().test();
* 块作用域
	也就是{}作用域, 出了大括号就不可访问
	js中很少使用块作用域, 只有下面几种特别用法
		try..ctach
		let
		const
## 提升
	任何声明在某个作用域内的变量, 都将附属于这个作用域
